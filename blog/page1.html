<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="wf-loading"><head>
       <script src="https://use.typekit.net/geg0pqq.js"></script><script>
        (function(d) {
          var config = {
            kitId: 'geg0pqq',
            scriptTimeout: 3000,
            async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Posts</title>
    <!--
     <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                displayAlign: "left",
                showProcessingMessages: false,
                showMathMenu: true,
                messageStyle: "none",
                TeX: { TagSide: "left", equationNumbers: { autoNumber: "AMS" } }
            });
        </script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
        </script>
        -->
   <link rel="stylesheet" type="text/css" href="../css/tufte.css"><style type="text/css">.tk-minion-pro-caption{font-family:"minion-pro-caption",sans-serif;}.tk-minion-pro-display{font-family:"minion-pro-display",serif;}</style><link rel="stylesheet" href="https://use.typekit.net/c/855fba/1w;minion-pro-caption,7ceb210e49ade74e23101e10f006f110a0b6588c7c57777a6e3d98a38b749696,bzc:W:i4,bzb:W:n4,bzj:W:n7;minion-pro-display,7ceb210e49ade74e23101e10f006f110a0b6588c7c57777a6e3d98a38b749696,c0F:W:i4,c0J:W:n4,c0C:W:n7/k" media="all">
  </head>

  <body><style id="MathJax_CHTML_styles">.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: block}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: span}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-ex-box-test {position: absolute; width: 1px; height: 60ex}
.MJXc-TeX-unknown-R {font-family: monospace; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: monospace; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: monospace; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: monospace; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://cdn.mathjax.org/mathjax/latest/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
</style>
    <main role="main">
    <article class="row article post" role="article">
      <div class="cell">
        <header class="row">
          <div class="home">
            <a href="../">Blog</a>
            <a href="../archive.html">Archive</a>
            <a href="../projects.html">Projects</a>
          </div>
        </header>
          <br>

  <h1 class="preview-title">
    <a href="../posts/2016-05-09-gadts.html" style="background-image: none">Generalized Algebraic Data Types I</a>
  </h1> 
  <div class="preview-info">
  
    Part IV of the series <i>Fun with Functional C#</i>.
  
  <div><i>May  9, 2016</i></div>
  </div>
  <p>
  </p><p>
  
  </p><div class="preview">
     <p>This is the first of two articles on GADTs. This first part will be a general introduction to GADTs and their utility, while the second part will show how we can wrangle GADT behaviour out of C#.</p>
<p>The canonical GADT introduction involves a demonstration of the inadequacy of algebraic data types. But since this is written from a C# perspective, and C# doesn’t have GADTs, we’ll start with a brief introduction to vanilla ADTs.</p>
<h2 id="algebraic-data-types">Algebraic Data Types</h2>
<p>Algebraic data types allow us a sort of type-level composition that’s more rigorous than what we have in C#. There are two ways to compose types in this algebra: products and sums, which are roughly analogous<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> to products and sums over the integers.</p>
<h3 id="product-types">Product types</h3>
<p>Product types allow us to combine two or more types into one compound type. In Haskell, we can combine two types into a pair:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">Pair</span> a b <span class="fu">=</span> <span class="dt">Pair</span> a b</code></pre></div>

  </div>
   <a href="../posts/2016-05-09-gadts.html"><b>More...</b></a>
   
   <p>
   <br>
   <br>
   <br>

  </p><h1 class="preview-title">
    <a href="../posts/2016-04-02-metropolis.html" style="background-image: none">Visualizing the Metropolis Algorithm</a>
  </h1> 
  <div class="preview-info">
  
  <div><i>April  2, 2016</i></div>
  </div>
  <p>
  </p><p>
  
  </p><div class="preview">
     <p>Let’s say you’re doing some sort of Bayesian analysis. You’ll have a prior <span id="MathJax-Element-1-Frame" class="mjx-chtml"><span id="MJXc-Node-3895" class="mjx-math" role="math"><span id="MJXc-Node-3896" class="mjx-mrow"><span id="MJXc-Node-3897" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3898" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3899" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3900" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> over your model parameters <span id="MathJax-Element-2-Frame" class="mjx-chtml"><span id="MJXc-Node-3901" class="mjx-math" role="math"><span id="MJXc-Node-3902" class="mjx-mrow"><span id="MJXc-Node-3903" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span>. You get some data <span id="MathJax-Element-3-Frame" class="mjx-chtml"><span id="MJXc-Node-3904" class="mjx-math" role="math"><span id="MJXc-Node-3905" class="mjx-mrow"><span id="MJXc-Node-3906" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span></span></span>, and you want to update on this data to get the posterior <span id="MathJax-Element-4-Frame" class="mjx-chtml"><span id="MJXc-Node-3907" class="mjx-math" role="math"><span id="MJXc-Node-3908" class="mjx-mrow"><span id="MJXc-Node-3909" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3910" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3911" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3912" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3913" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3914" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, the updated distribution of the model parameters given <span id="MathJax-Element-5-Frame" class="mjx-chtml"><span id="MJXc-Node-3915" class="mjx-math" role="math"><span id="MJXc-Node-3916" class="mjx-mrow"><span id="MJXc-Node-3917" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span></span></span></span>. Let’s wheel out Bayes’ theorem and work out how to calculate <span id="MathJax-Element-6-Frame" class="mjx-chtml"><span id="MJXc-Node-3918" class="mjx-math" role="math"><span id="MJXc-Node-3919" class="mjx-mrow"><span id="MJXc-Node-3920" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3921" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3922" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3923" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3924" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3925" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, which for convenience we’ll call <span id="MathJax-Element-7-Frame" class="mjx-chtml"><span id="MJXc-Node-3926" class="mjx-math" role="math"><span id="MJXc-Node-3927" class="mjx-mrow"><span id="MJXc-Node-3928" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-3929" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3930" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3931" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>:</p>
<p><span class="math display"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-8-Frame" class="mjx-chtml"><span id="MJXc-Node-3932" class="mjx-math" role="math"><span id="MJXc-Node-3933" class="mjx-mrow"><span id="MJXc-Node-3934" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-3935" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3936" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3937" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-3938" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-3939" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3940" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3941" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3942" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3943" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3944" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-3945" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-3946" class="mjx-mstyle MJXc-space3"><span id="MJXc-Node-3947" class="mjx-mrow"><span id="MJXc-Node-3948" class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 5.302em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 5.302em; top: -1.59em;"><span id="MJXc-Node-3949" class="mjx-mrow"><span id="MJXc-Node-3950" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3951" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3952" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3953" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3954" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3955" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-3956" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3957" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3958" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3959" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span><span class="mjx-denominator" style="width: 5.302em; bottom: -1.09em;"><span id="MJXc-Node-3960" class="mjx-mrow"><span id="MJXc-Node-3961" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3962" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3963" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3964" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 5.302em;" class="mjx-line"></span></span><span style="height: 2.68em; vertical-align: -1.09em;" class="mjx-vsize"></span></span></span></span></span></span></span></span></span></p>
<p>If we can calculate <span id="MathJax-Element-9-Frame" class="mjx-chtml"><span id="MJXc-Node-3965" class="mjx-math" role="math"><span id="MJXc-Node-3966" class="mjx-mrow"><span id="MJXc-Node-3967" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3968" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3969" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3970" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3971" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3972" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> by using some sort of loss function, computing the numerator <span id="MathJax-Element-10-Frame" class="mjx-chtml"><span id="MJXc-Node-3973" class="mjx-math" role="math"><span id="MJXc-Node-3974" class="mjx-mrow"><span id="MJXc-Node-3975" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3976" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3977" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3978" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-3979" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3980" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-3981" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3982" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3983" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3984" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is relatively straightforward. And once we have the numerator, we’ve specified our posterior <span id="MathJax-Element-11-Frame" class="mjx-chtml"><span id="MJXc-Node-3985" class="mjx-math" role="math"><span id="MJXc-Node-3986" class="mjx-mrow"><span id="MJXc-Node-3987" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-3988" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3989" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-3990" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> up to the normalization constant <span id="MathJax-Element-12-Frame" class="mjx-chtml"><span id="MJXc-Node-3991" class="mjx-math" role="math"><span id="MJXc-Node-3992" class="mjx-mrow"><span id="MJXc-Node-3993" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-3994" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-3995" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-3996" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>.</p>
<p>Computing the normalization constant is trickier. <span id="MathJax-Element-13-Frame" class="mjx-chtml"><span id="MJXc-Node-3997" class="mjx-math" role="math"><span id="MJXc-Node-3998" class="mjx-mrow"><span id="MJXc-Node-3999" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4000" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4001" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4002" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> is the probability of seeing this data in the model, which means we have to integrate over all possible values of <span id="MathJax-Element-14-Frame" class="mjx-chtml"><span id="MJXc-Node-4003" class="mjx-math" role="math"><span id="MJXc-Node-4004" class="mjx-mrow"><span id="MJXc-Node-4005" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span>:</p>
<p><span class="math display"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-15-Frame" class="mjx-chtml"><span id="MJXc-Node-4006" class="mjx-math" role="math"><span id="MJXc-Node-4007" class="mjx-mrow"><span id="MJXc-Node-4008" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4009" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4010" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4011" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4012" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-4013" class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.388em;"><span id="MJXc-Node-4014" class="mjx-mo" style="vertical-align: 0.001em; padding-right: 0.388em;"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 1.109em; padding-bottom: 1.109em;">∫</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -1.303em; padding-right: 0.071em;"><span id="MJXc-Node-4015" class="mjx-texatom" style=""><span id="MJXc-Node-4016" class="mjx-mrow"><span id="MJXc-Node-4017" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">Θ</span></span></span></span></span></span><span id="MJXc-Node-4018" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4019" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4020" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4021" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-4022" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4023" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4024" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4025" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4026" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4027" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4028" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">d</span></span><span id="MJXc-Node-4029" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span></span></span></p>
<p>In most cases<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>, this won’t have a closed-form solution, and deterministic numerical integration can scale poorly with increasing dimensionality.</p>
<h2 id="monte-carlo-integration">Monte Carlo integration</h2>
<p>Let’s assume we can’t easily compute this integral; we can turn to Monte Carlo methods to estimate it instead. If we can directly draw from the posterior distribution <span id="MathJax-Element-16-Frame" class="mjx-chtml"><span id="MJXc-Node-4030" class="mjx-math" role="math"><span id="MJXc-Node-4031" class="mjx-mrow"><span id="MJXc-Node-4032" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-4033" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4034" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4035" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, we can simply compute the density of <span id="MathJax-Element-17-Frame" class="mjx-chtml"><span id="MJXc-Node-4036" class="mjx-math" role="math"><span id="MJXc-Node-4037" class="mjx-mrow"><span id="MJXc-Node-4038" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-4039" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4040" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4041" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> at a set of uniformly distributed values <span id="MathJax-Element-18-Frame" class="mjx-chtml"><span id="MJXc-Node-4042" class="mjx-math" role="math"><span id="MJXc-Node-4043" class="mjx-mrow"><span id="MJXc-Node-4044" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4045" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-4046" class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span id="MJXc-Node-4047" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4048" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">…</span></span><span id="MJXc-Node-4049" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4050" class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-4051" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-4052" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span></span></span> that cover a broad range of the parameter space for <span id="MathJax-Element-19-Frame" class="mjx-chtml"><span id="MJXc-Node-4053" class="mjx-math" role="math"><span id="MJXc-Node-4054" class="mjx-mrow"><span id="MJXc-Node-4055" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span>:</p>
<p><span class="math display"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-20-Frame" class="mjx-chtml"><span id="MJXc-Node-4056" class="mjx-math" role="math"><span id="MJXc-Node-4057" class="mjx-mrow"><span id="MJXc-Node-4058" class="mjx-mtable" style="vertical-align: -2.586em; padding: 0px 0.167em;"><span class="mjx-table"><span id="MJXc-Node-4059" class="mjx-mtr"><span id="MJXc-Node-4060" class="mjx-mtd" style="padding: 0px 0px 0.15em 0px; text-align: right; width: 2.357em;"><span id="MJXc-Node-4061" class="mjx-mrow" style="margin-top: 0.025em;"><span id="MJXc-Node-4062" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4063" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4064" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4065" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span><span id="MJXc-Node-4066" class="mjx-mtd" style="padding: 0px 0px 0.15em 0px; text-align: left; width: 8.769em;"><span id="MJXc-Node-4067" class="mjx-mrow"><span id="MJXc-Node-4068" class="mjx-mi"></span><span id="MJXc-Node-4069" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-4070" class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.388em;"><span id="MJXc-Node-4071" class="mjx-mo" style="vertical-align: 0.001em; padding-right: 0.388em;"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 1.109em; padding-bottom: 1.109em;">∫</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -1.303em; padding-right: 0.071em;"><span id="MJXc-Node-4072" class="mjx-texatom" style=""><span id="MJXc-Node-4073" class="mjx-mrow"><span id="MJXc-Node-4074" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">Θ</span></span></span></span></span></span><span id="MJXc-Node-4075" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4076" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4077" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4078" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-4079" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4080" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4081" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4082" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4083" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4084" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4085" class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">d</span></span><span id="MJXc-Node-4086" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span><span id="MJXc-Node-4087" class="mjx-mtr"><span id="MJXc-Node-4088" class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: right;"><span id="MJXc-Node-4089" class="mjx-mrow" style="margin-top: 0.8em; margin-bottom: 0.2em;"></span></span><span id="MJXc-Node-4090" class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: left;"><span id="MJXc-Node-4091" class="mjx-mrow"><span id="MJXc-Node-4092" class="mjx-mi"></span><span id="MJXc-Node-4093" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">≈</span></span><span id="MJXc-Node-4094" class="mjx-mstyle MJXc-space3"><span id="MJXc-Node-4095" class="mjx-mrow"><span id="MJXc-Node-4096" class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 1.088em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 1.088em; top: -1.368em;"><span id="MJXc-Node-4097" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span><span class="mjx-denominator" style="width: 1.088em; bottom: -0.773em;"><span id="MJXc-Node-4098" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.088em;" class="mjx-line"></span></span><span style="height: 2.141em; vertical-align: -0.773em;" class="mjx-vsize"></span></span></span></span><span id="MJXc-Node-4099" class="mjx-munderover MJXc-space1"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-stack"><span class="mjx-over" style="font-size: 70.7%; padding-bottom: 0.258em; padding-top: 0.141em; padding-left: 0.577em;"><span id="MJXc-Node-4106" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span><span class="mjx-op"><span id="MJXc-Node-4100" class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.74em; padding-bottom: 0.74em;">∑</span></span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.21em;"><span id="MJXc-Node-4101" class="mjx-texatom" style=""><span id="MJXc-Node-4102" class="mjx-mrow"><span id="MJXc-Node-4103" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-4104" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-4105" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span><span id="MJXc-Node-4107" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.109em;">P</span></span><span id="MJXc-Node-4108" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4109" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">D</span></span><span id="MJXc-Node-4110" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">|</span></span><span id="MJXc-Node-4111" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-4112" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-4113" class="mjx-texatom" style=""><span id="MJXc-Node-4114" class="mjx-mrow"><span id="MJXc-Node-4115" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4116" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span><span id="MJXc-Node-4117" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span><span id="MJXc-Node-4118" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>By the law of large numbers, our estimate will converge to the true distribution as <span id="MathJax-Element-21-Frame" class="mjx-chtml"><span id="MJXc-Node-4119" class="mjx-math" role="math"><span id="MJXc-Node-4120" class="mjx-mrow"><span id="MJXc-Node-4121" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.085em;">N</span></span></span></span></span> goes to infinity. But this only works if we can directly draw from <span id="MathJax-Element-22-Frame" class="mjx-chtml"><span id="MJXc-Node-4122" class="mjx-math" role="math"><span id="MJXc-Node-4123" class="mjx-mrow"><span id="MJXc-Node-4124" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em; padding-right: 0.003em;">π</span></span><span id="MJXc-Node-4125" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4126" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span id="MJXc-Node-4127" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>. Many Bayesian models use arbitrarily complex distributions over <span id="MathJax-Element-23-Frame" class="mjx-chtml"><span id="MJXc-Node-4128" class="mjx-math" role="math"><span id="MJXc-Node-4129" class="mjx-mrow"><span id="MJXc-Node-4130" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span> that we can’t easily sample.</p>

  </div>
   <a href="../posts/2016-04-02-metropolis.html"><b>More...</b></a>
   
   <p>
   <br>
   <br>
   <br>

  </p><h1 class="preview-title">
    <a href="../posts/2016-03-23-free-monads.html" style="background-image: none">Free monads in category theory</a>
  </h1> 
  <div class="preview-info">
  
    Part II of the series <i>Free monads</i>.
  
  <div><i>March 23, 2016</i></div>
  </div>
  <p>
  </p><p>
  
  </p><div class="preview">
     <h2 id="forgetting-how-to-multiply">Forgetting how to multiply</h2>
<p>It’s probably easiest to understand what a free monad is if we first understand forgetful functors<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>In category theory, a functor maps between categories, mapping objects to objects and morphisms to morphisms in a way that preserves compositionality<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>.</p>
<p>A <em>forgetful functor</em> is just a functor that discards some of the structure or properties of the input category.</p>
<p>For example, unital rings have objects <span id="MathJax-Element-24-Frame" class="mjx-chtml"><span id="MJXc-Node-4131" class="mjx-math" role="math"><span id="MJXc-Node-4132" class="mjx-mrow"><span id="MJXc-Node-4133" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4134" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span><span id="MJXc-Node-4135" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4136" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span id="MJXc-Node-4137" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4138" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span><span id="MJXc-Node-4139" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4140" class="mjx-mn MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span id="MJXc-Node-4141" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4142" class="mjx-mn MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span id="MJXc-Node-4143" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, where <span id="MathJax-Element-25-Frame" class="mjx-chtml"><span id="MJXc-Node-4144" class="mjx-math" role="math"><span id="MJXc-Node-4145" class="mjx-mrow"><span id="MJXc-Node-4146" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span></span></span></span> is a set, and <span id="MathJax-Element-26-Frame" class="mjx-chtml"><span id="MJXc-Node-4147" class="mjx-math" role="math"><span id="MJXc-Node-4148" class="mjx-mrow"><span id="MJXc-Node-4149" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4150" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span><span id="MJXc-Node-4151" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4152" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span><span id="MJXc-Node-4153" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> are binary operations with identity elements <span id="MathJax-Element-27-Frame" class="mjx-chtml"><span id="MJXc-Node-4154" class="mjx-math" role="math"><span id="MJXc-Node-4155" class="mjx-mrow"><span id="MJXc-Node-4156" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4157" class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span><span id="MJXc-Node-4158" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4159" class="mjx-mn MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span><span id="MJXc-Node-4160" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span> respectively.</p>
<p>Let’s denote the category of all unital rings and their homomorphisms by <span id="MathJax-Element-28-Frame" class="mjx-chtml"><span id="MJXc-Node-4161" class="mjx-math" role="math"><span id="MJXc-Node-4162" class="mjx-mrow"><span id="MJXc-Node-4163" class="mjx-texatom"><span id="MJXc-Node-4164" class="mjx-mrow"><span id="MJXc-Node-4165" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4166" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-4167" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4168" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span></span></span></span>, and the category of all non-unital rings and their homomorphisms with <span id="MathJax-Element-29-Frame" class="mjx-chtml"><span id="MJXc-Node-4169" class="mjx-math" role="math"><span id="MJXc-Node-4170" class="mjx-mrow"><span id="MJXc-Node-4171" class="mjx-texatom"><span id="MJXc-Node-4172" class="mjx-mrow"><span id="MJXc-Node-4173" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4174" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4175" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span></span></span></span>. We can now define a forgetful functor: <span id="MathJax-Element-30-Frame" class="mjx-chtml"><span id="MJXc-Node-4176" class="mjx-math" role="math"><span id="MJXc-Node-4177" class="mjx-mrow"><span id="MJXc-Node-4178" class="mjx-texatom"><span id="MJXc-Node-4179" class="mjx-mrow"><span id="MJXc-Node-4180" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">I</span></span></span></span><span id="MJXc-Node-4181" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">:</span></span><span id="MJXc-Node-4182" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4183" class="mjx-mrow"><span id="MJXc-Node-4184" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4185" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-4186" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4187" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span><span id="MJXc-Node-4188" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span><span id="MJXc-Node-4189" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4190" class="mjx-mrow"><span id="MJXc-Node-4191" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4192" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4193" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span></span></span></span>, which just drops the multiplicative identity.</p>
<p>Similarly, we can define another forgetful functor <span id="MathJax-Element-31-Frame" class="mjx-chtml"><span id="MJXc-Node-4194" class="mjx-math" role="math"><span id="MJXc-Node-4195" class="mjx-mrow"><span id="MJXc-Node-4196" class="mjx-texatom"><span id="MJXc-Node-4197" class="mjx-mrow"><span id="MJXc-Node-4198" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span></span><span id="MJXc-Node-4199" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">:</span></span><span id="MJXc-Node-4200" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4201" class="mjx-mrow"><span id="MJXc-Node-4202" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4203" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4204" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span><span id="MJXc-Node-4205" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span><span id="MJXc-Node-4206" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4207" class="mjx-mrow"><span id="MJXc-Node-4208" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">A</span></span><span id="MJXc-Node-4209" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">b</span></span></span></span></span></span></span>, which maps from the category of rngs to the category of abelian groups. <span id="MathJax-Element-32-Frame" class="mjx-chtml"><span id="MJXc-Node-4210" class="mjx-math" role="math"><span id="MJXc-Node-4211" class="mjx-mrow"><span id="MJXc-Node-4212" class="mjx-texatom"><span id="MJXc-Node-4213" class="mjx-mrow"><span id="MJXc-Node-4214" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span></span></span></span></span> discards the multiplicative binary operation, simply mapping all morphisms of multiplication to morphisms of addition.</p>
<h2 id="forgetting-monoids">Forgetting monoids</h2>
<p>The forgetful functor <span id="MathJax-Element-33-Frame" class="mjx-chtml"><span id="MJXc-Node-4215" class="mjx-math" role="math"><span id="MJXc-Node-4216" class="mjx-mrow"><span id="MJXc-Node-4217" class="mjx-texatom"><span id="MJXc-Node-4218" class="mjx-mrow"><span id="MJXc-Node-4219" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span></span></span></span></span> forgets ring multiplication. What happens if instead you forget addition? You get monoids! We can define monoids as the triple <span id="MathJax-Element-34-Frame" class="mjx-chtml"><span id="MJXc-Node-4220" class="mjx-math" role="math"><span id="MJXc-Node-4221" class="mjx-mrow"><span id="MJXc-Node-4222" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4223" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span><span id="MJXc-Node-4224" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4225" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span><span id="MJXc-Node-4226" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4227" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span><span id="MJXc-Node-4228" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, where <span id="MathJax-Element-35-Frame" class="mjx-chtml"><span id="MJXc-Node-4229" class="mjx-math" role="math"><span id="MJXc-Node-4230" class="mjx-mrow"><span id="MJXc-Node-4231" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.032em;">S</span></span></span></span></span> is a set, <span id="MathJax-Element-36-Frame" class="mjx-chtml"><span id="MJXc-Node-4232" class="mjx-math" role="math"><span id="MJXc-Node-4233" class="mjx-mrow"><span id="MJXc-Node-4234" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span></span></span></span> is an associative binary operation, and <span id="MathJax-Element-37-Frame" class="mjx-chtml"><span id="MJXc-Node-4235" class="mjx-math" role="math"><span id="MJXc-Node-4236" class="mjx-mrow"><span id="MJXc-Node-4237" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span></span></span> is the neutral element of that operation.</p>
<p>The forgetful functor <span id="MathJax-Element-38-Frame" class="mjx-chtml"><span id="MJXc-Node-4238" class="mjx-math" role="math"><span id="MJXc-Node-4239" class="mjx-mrow"><span id="MJXc-Node-4240" class="mjx-texatom"><span id="MJXc-Node-4241" class="mjx-mrow"><span id="MJXc-Node-4242" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">M</span></span></span></span><span id="MJXc-Node-4243" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">:</span></span><span id="MJXc-Node-4244" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4245" class="mjx-mrow"><span id="MJXc-Node-4246" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">R</span></span><span id="MJXc-Node-4247" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">i</span></span><span id="MJXc-Node-4248" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span><span id="MJXc-Node-4249" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.593em;">g</span></span></span></span><span id="MJXc-Node-4250" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span><span id="MJXc-Node-4251" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4252" class="mjx-mrow"><span id="MJXc-Node-4253" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">M</span></span><span id="MJXc-Node-4254" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">o</span></span><span id="MJXc-Node-4255" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span></span></span></span></span></span> maps from the category of rings to the category of monoids, <span id="MathJax-Element-39-Frame" class="mjx-chtml"><span id="MJXc-Node-4256" class="mjx-math" role="math"><span id="MJXc-Node-4257" class="mjx-mrow"><span id="MJXc-Node-4258" class="mjx-texatom"><span id="MJXc-Node-4259" class="mjx-mrow"><span id="MJXc-Node-4260" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.372em; padding-bottom: 0.372em;">M</span></span><span id="MJXc-Node-4261" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">o</span></span><span id="MJXc-Node-4262" class="mjx-mi"><span class="mjx-char MJXc-TeX-main-B" style="padding-top: 0.151em; padding-bottom: 0.372em;">n</span></span></span></span></span></span></span>, in which the objects are monoids, and the morphisms are monoid homomorphisms.</p>
<p>Monoid homomorphisms map between monoids in a way that preserves their monoidal properties. Given <span id="MathJax-Element-40-Frame" class="mjx-chtml"><span id="MJXc-Node-4263" class="mjx-math" role="math"><span id="MJXc-Node-4264" class="mjx-mrow"><span id="MJXc-Node-4265" class="mjx-texatom"><span id="MJXc-Node-4266" class="mjx-mrow"><span id="MJXc-Node-4267" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.094em;">X</span></span></span></span></span></span></span>, a monoid defined by <span id="MathJax-Element-41-Frame" class="mjx-chtml"><span id="MJXc-Node-4268" class="mjx-math" role="math"><span id="MJXc-Node-4269" class="mjx-mrow"><span id="MJXc-Node-4270" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4271" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.024em;">X</span></span><span id="MJXc-Node-4272" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4273" class="mjx-mo MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.298em;">∗</span></span><span id="MJXc-Node-4274" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4275" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span><span id="MJXc-Node-4276" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, and <span id="MathJax-Element-42-Frame" class="mjx-chtml"><span id="MJXc-Node-4277" class="mjx-math" role="math"><span id="MJXc-Node-4278" class="mjx-mrow"><span id="MJXc-Node-4279" class="mjx-texatom"><span id="MJXc-Node-4280" class="mjx-mrow"><span id="MJXc-Node-4281" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.446em; padding-right: 0.046em;">Y</span></span></span></span></span></span></span>, a monoid defined by <span id="MathJax-Element-43-Frame" class="mjx-chtml"><span id="MJXc-Node-4282" class="mjx-math" role="math"><span id="MJXc-Node-4283" class="mjx-mrow"><span id="MJXc-Node-4284" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4285" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.182em;">Y</span></span><span id="MJXc-Node-4286" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4287" class="mjx-msup MJXc-space1"><span class="mjx-base"><span id="MJXc-Node-4288" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.298em;">∗</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-4289" class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span id="MJXc-Node-4290" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4291" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span><span id="MJXc-Node-4292" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span>, a function <span id="MathJax-Element-44-Frame" class="mjx-chtml"><span id="MJXc-Node-4293" class="mjx-math" role="math"><span id="MJXc-Node-4294" class="mjx-mrow"><span id="MJXc-Node-4295" class="mjx-texatom"><span id="MJXc-Node-4296" class="mjx-mrow"><span id="MJXc-Node-4297" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span></span></span><span id="MJXc-Node-4298" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">:</span></span><span id="MJXc-Node-4299" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4300" class="mjx-mrow"><span id="MJXc-Node-4301" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.094em;">X</span></span></span></span><span id="MJXc-Node-4302" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span><span id="MJXc-Node-4303" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4304" class="mjx-mrow"><span id="MJXc-Node-4305" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.446em; padding-right: 0.046em;">Y</span></span></span></span></span></span></span> from <span id="MathJax-Element-45-Frame" class="mjx-chtml"><span id="MJXc-Node-4306" class="mjx-math" role="math"><span id="MJXc-Node-4307" class="mjx-mrow"><span id="MJXc-Node-4308" class="mjx-texatom"><span id="MJXc-Node-4309" class="mjx-mrow"><span id="MJXc-Node-4310" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.094em;">X</span></span></span></span></span></span></span> to <span id="MathJax-Element-46-Frame" class="mjx-chtml"><span id="MJXc-Node-4311" class="mjx-math" role="math"><span id="MJXc-Node-4312" class="mjx-mrow"><span id="MJXc-Node-4313" class="mjx-texatom"><span id="MJXc-Node-4314" class="mjx-mrow"><span id="MJXc-Node-4315" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.446em; padding-right: 0.046em;">Y</span></span></span></span></span></span></span> is a monoid homomorphism iff:</p>
<p>it preserves compositionality<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>:</p>
<p><span class="math display"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-47-Frame" class="mjx-chtml"><span id="MJXc-Node-4316" class="mjx-math" role="math"><span id="MJXc-Node-4317" class="mjx-mrow"><span id="MJXc-Node-4318" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span id="MJXc-Node-4319" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4320" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span><span id="MJXc-Node-4321" class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.298em;">∗</span></span><span id="MJXc-Node-4322" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span><span id="MJXc-Node-4323" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4324" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-4325" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span id="MJXc-Node-4326" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4327" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span><span id="MJXc-Node-4328" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4329" class="mjx-msup MJXc-space2"><span class="mjx-base"><span id="MJXc-Node-4330" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.298em;">∗</span></span></span><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span id="MJXc-Node-4331" class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span><span id="MJXc-Node-4332" class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span id="MJXc-Node-4333" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4334" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span><span id="MJXc-Node-4335" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4336" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span><span id="MJXc-Node-4337" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∀</span></span><span id="MJXc-Node-4338" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span><span id="MJXc-Node-4339" class="mjx-mspace" style="width: 0.278em; height: 0px;"></span><span id="MJXc-Node-4340" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span><span id="MJXc-Node-4341" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">∈</span></span><span id="MJXc-Node-4342" class="mjx-texatom MJXc-space3"><span id="MJXc-Node-4343" class="mjx-mrow"><span id="MJXc-Node-4344" class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.094em;">X</span></span></span></span></span></span></span></span></span></p>
<p>and maps the identity element: <span class="math display"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span id="MathJax-Element-48-Frame" class="mjx-chtml"><span id="MJXc-Node-4345" class="mjx-math" role="math"><span id="MJXc-Node-4346" class="mjx-mrow"><span id="MJXc-Node-4347" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">ϕ</span></span><span id="MJXc-Node-4348" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span><span id="MJXc-Node-4349" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span><span id="MJXc-Node-4350" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span><span id="MJXc-Node-4351" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span><span id="MJXc-Node-4352" class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span></p>

  </div>
   <a href="../posts/2016-03-23-free-monads.html"><b>More...</b></a>
   
   <p>
   <br>
   <br>
   <br>

  </p><h1 class="preview-title">
    <a href="../posts/2016-03-17-select-many-weird.html" style="background-image: none">Why is SelectMany so weird?</a>
  </h1> 
  <div class="preview-info">
  
    Part III of the series <i>Fun with Functional C#</i>.
  
  <div><i>March 17, 2016</i></div>
  </div>
  <p>
  </p><p>
  
  </p><div class="preview">
     <p>This episode, we’ll be looking at why <code>SelectMany</code> will look so strange to Haskell users, why that’s linked to some implementation-level issues with C#, and the extremely cool way that the C# team got around those issues.</p>
<p>A quick recap: LINQ query syntax is actually just Haskell do-notation, specialized for the list monad.</p>
<p>We can see this by looking at the signature for <code>SelectMany</code>:</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java">IEnumerable&lt;B&gt; SelectMany&lt;A, B&gt;(
  <span class="kw">this</span> IEnumerable&lt;A&gt; source,
  Func&lt;A, IEnumerable&lt;B&gt;&gt; selector
)</code></pre></div>
<p>It’s a less polymorphic Haskell bind:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">bind ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> m a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> m b) <span class="ot">-&gt;</span> m b</code></pre></div>
<p>When I first saw this, I immediately attempted to write my own monad instance in C#, and had a Bad Time. But figuring out why it wasn’t so easy was probably more interesting than writing the monad instances in the first place!</p>

  </div>
   <a href="../posts/2016-03-17-select-many-weird.html"><b>More...</b></a>
   
   <p>
   <br>
   <br>
   <br>

  </p><h1 class="preview-title">
    <a href="../posts/2016-03-16-reader.html" style="background-image: none">The Reader Monad</a>
  </h1> 
  <div class="preview-info">
  
    Part II of the series <i>Fun with Functional C#</i>.
  
  <div><i>March 16, 2016</i></div>
  </div>
  <p>
  </p><p>
  
  </p><div class="preview">
     <p>In this installment of <em>Fun with Functional C#</em>, we’re going to be implementing the reader monad, and attempting to figure out if it’s actually useful. The reader monad was the first monad I implemented when I found out that <code>SelectMany</code> was <code>bind</code>. I thought it would be a good way to get rid of runtime dependency injection errors, but it turned out not to be the panacea I’d hoped for.</p>
<h2 id="implementation">Implementation</h2>
<p>The first thing I did was implement <code>SelectMany</code>, but it had some quirks that I’ll discuss in the next installment of this series. For now, let’s just look at the implementation:</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">public</span> <span class="kw">class</span> Reader&lt;E, A&gt;
{
    <span class="kw">private</span> Func&lt;E, A&gt; f;
    <span class="kw">public</span> Reader(Func&lt;E, A&gt; func) 
    {
        f = func;
    }

    <span class="kw">public</span> A <span class="fu">RunReader</span>(E env) 
    {
        <span class="kw">return</span> <span class="fu">f</span>(env);
    }
}</code></pre></div>
<p>This is basically equivalent to</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">newtype</span> <span class="dt">Reader</span> e a <span class="fu">=</span> <span class="dt">Reader</span> {<span class="ot"> runReader ::</span> (e <span class="ot">-&gt;</span> a) }</code></pre></div>

  </div>
   <a href="../posts/2016-03-16-reader.html"><b>More...</b></a>
   
   <p>
   <br>
   <br>
   <br>




  <span style="float:right">
    <a href="../blog/page2.html"><b>Next</b></a>
  </span>


        </p><div id="footer">
          <small>Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a></small>
        </div>
      </div>
    </article>
    </main>
  

</body></html>